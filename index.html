<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategic Capabilities: Enhancing Office Impact</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F0EDE5;
        }
        .chart-container {
            position: relative;
            margin-left: auto;
            margin-right: auto;
            height: 250px; /* Slightly reduced base height for less density */
            max-height: 250px;
            width: 100%;
            max-width: 450px; /* Slightly reduced max-width */
        }
        .section-anchor {
            scroll-margin-top: 80px;
        }
        .icon-box {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: #E67E22;
            color: #4A3A2D;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        /* Fade-in on scroll animation */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Parallax Background Styling */
        .parallax-bg {
            /* Placeholder for a dynamic, professional background image */
            background-image: url(Untitleddesign.png); 
            background-attachment: fixed; /* This creates the parallax effect */
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
        }
        .parallax-overlay {
            background-color: rgba(240, 237, 229, 0.85); /* Light background with opacity for content readability */
            min-height: 100vh; /* Ensure overlay covers content if background is shorter */
        }
        /* Custom styling for cards with background images */
        .card-with-bg {
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            position: relative; /* Needed for absolute positioning of overlay */
            color: white; /* Default text to white for dark backgrounds */
        }
        .card-overlay {
            position: absolute;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.5); /* Dark overlay for text readability */
            border-radius: 0.5rem; /* Match card border-radius */
        }
        .card-content {
            position: relative;
            z-index: 10; /* Ensure content is above overlay */
            display: flex;
            flex-direction: column;
            height: 100%; /* Ensure content fills card height */
        }
        .card-content h3, .card-content p, .card-content .icon-box, .card-content a {
            color: inherit; /* Inherit color from card-with-bg or overlay */
        }
        .card-content .icon-box {
            background-color: #E67E22; /* Keep accent color for icon box */
            color: #FFFFFF; /* White icon for contrast */
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 300px;
                max-height: 300px;
                max-width: 550px;
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Sticky Header Navigation -->
    <header class="sticky top-0 z-50 w-full bg-[#4A3A2D] shadow-lg">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3"> <!-- Added flex container for logo/name -->
                <img src="foto de perfil de LinkedIn hombre elegante.png" alt="Mark Rickey Headshot" class="h-8 w-8 rounded-full object-cover border-2 border-white"> <!-- Headshot/Graphic -->
                <a href="#top" class="text-white text-2xl font-bold tracking-tight">Mark Rickey</a>
            </div>
            <div class="space-x-4">
                <a href="#contributions" class="text-white hover:text-[#E67E22] transition-colors duration-200">Contributions</a>
                <a href="#capabilities" class="text-white hover:text-[#E67E22] transition-colors duration-200">Capabilities</a>
                <a href="#approach" class="text-white hover:text-[#E67E22] transition-colors duration-200">My Approach</a>
            </div>
        </nav>
    </header>

    <!-- Hero Section with Cinematic Background Video -->
    <section id="top" class="relative text-white py-12 md:py-20 px-4 text-center overflow-hidden min-h-[400px] md:min-h-[500px] flex items-center justify-center">
        <!-- Background Video - Replace src with your uploaded video paths -->
        <video autoplay loop muted playsinline style="width:100vw; height:100vh; object-fit:cover; position:absolute; top:0; left:0; z-index:-1;">
  <source src="Untitleddesign.mp4" type="video/mp4">
  <source src="Untitleddesign.webm" type="video/webm">
  Your browser does not support the video tag.
</video>
        
        <!-- Overlay for text readability -->
        <div class="absolute inset-0 bg-black opacity-40 z-10"></div> 
        
        <!-- Content -->
        <div class="max-w-4xl mx-auto relative z-20">
            <h1 class="text-4xl md:text-6xl font-extrabold leading-tight tracking-tight mb-3 animate-fade-in-up">Strategic Project Manager</h1>
            <p class="text-lg md:text-2xl font-light opacity-90 mb-8 animate-fade-in-up delay-100">Leveraging strategic analysis and data-driven solutions to enhance operational excellence, and driving results through public service.</p>
            <a href="#contributions" class="inline-block bg-[#E67E22] text-[#4A3A2D] font-bold py-3 px-8 rounded-full text-lg hover:bg-orange-400 transition-colors duration-300 shadow-lg transform hover:scale-105 animate-bounce-in">Explore My Impact</a>
        </div>
    </section>

    <main class="parallax-bg">
        <div class="parallax-overlay p-4 md:p-8">
            <div class="max-w-7xl mx-auto">

                <section id="contributions" class="section-anchor mb-16">
                    <h2 class="text-4xl font-bold text-center text-[#4A3A2D] mb-10 animate-on-scroll">Key Contributions & Initiatives</h2>
                    <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto font-light animate-on-scroll">During my CSP Fellowship, I focused on delivering tangible results and building systems that enhance efficiency and strategic insight. Below are direct contributions showcasing my commitment to operational excellence.</p>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                        <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col h-full transform transition-transform duration-300 hover:scale-[1.02] animate-on-scroll">
                            <div class="icon-box">üìä</div>
                            <h3 class="font-bold text-2xl text-[#6B5B4C] mb-4">Job Fair Data Management System</h3>
                            <p class="text-gray-700 text-base mb-6 flex-grow font-light">
                                Identified a critical need for streamlined data capture for the annual Job Fair. I designed and implemented a comprehensive Google Forms and Sheets system that automated employer/employee registration, improving data accuracy and accessibility. This led to measurable uptick in employer engagement and actionable insights for future events.
                            </p>
                            <div class="w-full mt-auto">
                                <div class="chart-container" style="height:250px; max-height:250px;">
                                    <canvas id="jobFairEngagementChart"></canvas>
                                </div>
                                <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vR-a3bUNngau5ee0axu-jjI_Zt-1fU4XET627aFvtFV2s10fBt6Ak-U76BQSHPzPIMk27nX-CalQPtD/pubhtml?gid=1619668413&single=true" target="_blank" class="block text-center mt-4 text-[#6B5B4C] hover:text-[#E67E22] font-semibold transition-colors duration-200">Explore Full Job Fair Analytics ‚ûú</a>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col h-full transform transition-transform duration-300 hover:scale-[1.02] animate-on-scroll">
                            <div class="icon-box">üí∞</div>
                            <h3 class="font-bold text-2xl text-[#6B5B4C] mb-4">Quantifying Constituent Impact: Monetary Outcomes</h3>
                            <p class="text-gray-700 text-base mb-6 flex-grow font-light">
                                Developed a robust system to rigorously track and analyze the financial impact of casework, transforming raw data into quantifiable insights. This involved extracting detailed case outcomes, primarily from Veterans Affairs (VA) benefits and Department of Defense (DoD) claims, and translating them into tangible monetary values recovered or saved for constituents. This comprehensive analysis provides a clear picture of direct economic benefits delivered.
                            </p>
                            <div class="w-full mt-auto">
                                <div class="chart-container" style="height:250px; max-height:250px;">
                                    <canvas id="monetaryOutcomesChart"></canvas>
                                </div>
                                <a href="YOUR_GITHUB_IMAGE_URL_HERE" target="_blank" class="block text-center mt-4 text-[#6B5B4C] hover:text-[#E67E22] font-semibold transition-colors duration-200">View Detailed Financial Impact Report ‚ûú</a>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col h-full transform transition-transform duration-300 hover:scale-[1.02] lg:col-span-2 animate-on-scroll">
                            <div class="icon-box">üìà</div>
                            <h3 class="font-bold text-2xl text-[#6B5B4C] mb-4">Operational Efficiency & Strategic Impact Study</h3>
                            <p class="text-base mb-6 flex-grow font-light opacity-90">
                                Undertook an internal study to meticulously analyze current operational workflows, identify systemic inefficiencies, and pinpoint opportunities for enhanced impact. This diagnostic work reveals key areas where strategic interventions can yield substantial improvements in productivity and constituent service.
                            </p>
                            
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-auto text-center">
                                <div class="flex flex-col items-center justify-center p-3 bg-white bg-opacity-10 rounded-lg animate-on-scroll" style="transition-delay: 0.1s;">
                                    <p class="text-4xl font-extrabold text-[#E67E22]">18<span class="text-xl font-normal opacity-90">hrs/wk</span></p>
                                    <p class="text-sm font-light opacity-80">Manual Data Loss</p>
                                </div>
                                <div class="flex flex-col items-center justify-center p-3 bg-white bg-opacity-10 rounded-lg animate-on-scroll" style="transition-delay: 0.2s;">
                                    <p class="text-4xl font-extrabold text-[#E67E22]">48<span class="text-xl font-normal opacity-90">hrs</span></p>
                                    <p class="text-sm font-light opacity-80">Avg. Response Time</p>
                                </div>
                                <div class="flex flex-col items-center justify-center p-3 bg-white bg-opacity-10 rounded-lg animate-on-scroll" style="transition-delay: 0.3s;">
                                    <p class="text-4xl font-extrabold text-[#E67E22]">8<span class="text-xl font-normal opacity-90">%</span></p>
                                    <p class="text-sm font-light opacity-80">Case Error Rate</p>
                                </div>
                            </div>
                            <a href="https://markrickey.github.io/Office-Efficiency-Strategic-Impact-Infographic/" target="_blank" class="block text-center mt-6 text-white hover:text-[#E67E22] font-semibold transition-colors duration-200">View Full Infographic Summary ‚ûú</a>
                        </div>
                    </div>
                </section>

                <section id="capabilities" class="section-anchor mb-16">
                    <h2 class="text-4xl font-bold text-center text-[#4A3A2D] mb-10 animate-on-scroll">My Analytical Capabilities & Efficiency Models</h2>
                    <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto font-light animate-on-scroll">My approach is rooted in data-driven decision-making and the creation of robust models that provide clear, actionable insights. This allows for continuous monitoring and strategic adjustments, ensuring optimal performance and resource utilization.</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col h-full transform transition-transform duration-300 hover:scale-[1.02] animate-on-scroll">
                            <div class="icon-box">‚öôÔ∏è</div>
                            <h3 class="font-bold text-2xl text-[#6B5B4C] mb-4">Process Optimization Models</h3>
                            <p class="text-gray-700 text-base mb-6 flex-grow font-light">
                                Developed models to identify bottlenecks and streamline workflows, translating complex processes into clear, efficient pathways. This involves mapping current states, designing optimized future states, and projecting tangible gains in productivity and resource allocation.
                            </p>
                            <div class="w-full mt-auto">
                                <div class="chart-container" style="height:250px; max-height:250px;">
                                    <canvas id="processOptimizationChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col transform transition-transform duration-300 hover:scale-[1.02] animate-on-scroll">
                            <div class="icon-box">üìä</div>
                            <h3 class="font-bold text-2xl text-[#6B5B4C] mb-4">Performance Tracking & Analytics Integration</h3>
                            <p class="text-gray-700 text-base mb-6 flex-grow font-light">
                                Skilled in integrating data sources and leveraging analytics tools to create comprehensive performance dashboards. This enables continuous monitoring of key metrics, identifies trends, and supports data-informed strategic adjustments for ongoing operational excellence.
                            </p>
                            <div class="w-full mt-auto">
                                <div class="chart-container" style="height:250px; max-height:250px;">
                                    <canvas id="performanceTrackingChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col transform transition-transform duration-300 hover:scale-[1.02] md:col-span-2 animate-on-scroll">
                            <div class="icon-box">‚ú®</div>
                            <h3 class="font-bold text-2xl text-[#6B5B4C] mb-4">AI-Powered Policy Briefing Summary</h3>
                            <p class="text-gray-700 text-base mb-6 font-light">
                                Demonstrates the application of advanced AI tools for rapid information synthesis. Paste a policy document, article, or complex text below, and the system will generate a concise summary, highlighting key points and implications. This capability significantly streamlines policy analysis and briefing preparation.
                            </p>
                            <textarea id="policyInput" class="w-full p-3 border border-gray-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-[#E67E22]" rows="8" placeholder="Paste your policy text or document snippet here..."></textarea>
                            <button id="summarizeBtn" class="bg-[#E67E22] text-white font-bold py-3 px-6 rounded-full hover:bg-orange-400 transition-colors duration-300 shadow-md transform hover:scale-105">
                                Generate Summary ‚ú®
                            </button>
                            <div id="summaryOutput" class="mt-6 p-4 bg-[#F0EDE5] border border-gray-200 rounded-md text-gray-700 min-h-[100px] flex items-center justify-center">
                                <p class="text-center text-gray-500">Your AI-generated summary will appear here.</p>
                            </div>
                            <div id="loadingIndicator" class="hidden mt-4 text-center text-[#6B5B4C] font-semibold">
                                Generating summary...
                            </div>
                            <p class="text-xs text-gray-500 mt-2">
                                *Note: This feature uses the Gemini API (gemini-2.0-flash) for text generation. Results are for demonstration purposes.*
                            </p>
                        </div>
                    </div>
                </section>

                <section id="approach" class="section-anchor mb-16">
                    <h2 class="text-4xl font-bold text-center text-[#4A3A2D] mb-10 animate-on-scroll">My Strategic Approach: Drive & Collaboration</h2>
                    <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto font-light animate-on-scroll">My professional philosophy is grounded in a commitment to impactful results, continuous improvement, and fostering collaborative environments. I believe in leveraging data to inform strategy and in empowering teams to achieve shared objectives.</p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-white rounded-lg shadow-xl p-8 flex flex-col h-full transform transition-transform duration-300 hover:scale-[1.02] animate-on-scroll">
                            <h3 class="font-bold text-2xl text-[#1C3144] mb-4">Data-Driven Problem Solving</h3>
                            <p class="text-gray-700 text-base font-light">
                                My military background instilled a rigorous approach to problem-solving, emphasizing thorough analysis, root cause identification, and the development of actionable solutions. I translate complex challenges into clear, data-informed strategies that drive measurable improvements. This ensures that decisions are based on evidence, leading to more effective and sustainable outcomes.
                            </p>
                        </div>
                        <div class="bg-white rounded-lg shadow-xl p-8 transform transition-transform duration-300 hover:scale-[1.02] animate-on-scroll">
                            <h3 class="font-bold text-2xl text-[#1C3144] mb-4">Collaborative Leadership & Empowerment</h3>
                            <p class="text-gray-700 text-base font-light">
                                I thrive in team environments, valuing open communication and mutual respect. My focus is on empowering colleagues by providing the tools and insights they need to succeed, often working behind the scenes to build foundational systems that enable collective achievement. I believe in fostering a culture where every team member can contribute to their fullest potential.
                            </p>
                        </div>
                        <div class="bg-white rounded-lg shadow-xl p-8 md:col-span-2 transform transition-transform duration-300 hover:scale-[1.02] animate-on-scroll">
                            <h3 class="font-bold text-2xl text-[#1C3144] mb-4">Commitment to Continuous Optimization</h3>
                            <p class="text-gray-700 text-base font-light">
                                The pursuit of excellence is a continuous journey. I am dedicated to identifying ongoing opportunities for process refinement, technology integration, and strategic adaptation. My goal is to ensure that operations remain agile, efficient, and responsive to evolving needs, consistently seeking ways to enhance overall organizational impact and effectiveness.
                            </p>
                        </div>
                    </div>
                </section>
                
                <section class="text-center bg-[#0A1128] text-white rounded-lg shadow-md p-8 animate-on-scroll">
                    <h2 class="text-3xl font-bold mb-2">Ready to Drive Impact?</h2>
                    <p class="text-lg opacity-90 max-w-3xl mx-auto font-light">I am eager to apply my strategic capabilities and data-driven approach to contribute to the continued success and operational excellence of [Office Name].</p>
                    <p class="text-lg opacity-90 max-w-3xl mx-auto mt-4 font-light">Let's connect to discuss how my skills can further enhance our mission.</p>
                </section>

            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const earthTones = {
                dark: '#4A3A2D',   /* Dark Brown */
                medium: '#6B5B4C', /* Medium Brown/Taupe */
                accent: '#E67E22', /* Vibrant Orange */
                lightBg: '#F0EDE5', /* Light Creamy Background */
                white: '#FFFFFF'
            };

            const primaryColors = { // New palette for "Brilliant Blues"
                dark: '#0A1128',
                medium: '#1C3144',
                accent: '#E67E22', // Keeping the vibrant orange accent
                lightBg: '#EBF2FA',
                white: '#FFFFFF',
                darkText: '#4A3A2D' // Using a dark earth tone for primary text on light backgrounds
            };

            // Override earthTones with primaryColors for main components
            // This is a direct substitution for the initial earthTones definition
            const colors = primaryColors;

            // Updated Icon Box colors to reflect primaryColors
            document.querySelectorAll('.icon-box').forEach(box => {
                box.style.backgroundColor = colors.accent;
                box.style.color = colors.dark; // Icons are dark color on accent background
            });


            const wrapLabel = (label) => {
                const max_len = 16;
                if (label.length <= max_len) return label;
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + ' ' + word).trim().length > max_len) {
                        lines.push(currentLine.trim());
                        currentLine = word;
                    } else {
                        currentLine = (currentLine + ' ' + word).trim();
                    }
                });
                if (currentLine) lines.push(currentLine);
                return lines;
            };

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                } else {
                    return label;
                }
            };
            
            const sharedChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                         labels: {
                            font: {
                                size: 10
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback
                        }
                    }
                }
            };

            const animateOnScrollElements = document.querySelectorAll('.animate-on-scroll');
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            animateOnScrollElements.forEach(element => {
                observer.observe(element);
            });

            // Chart 1: Job Fair Engagement Chart
            const jobFairEngagementCtx = document.getElementById('jobFairEngagementChart').getContext('2d');
            new Chart(jobFairEngagementCtx, {
                type: 'bar',
                data: {
                    labels: ['Previous Event', 'Current Event (Post-System)'],
                    datasets: [{
                        label: 'Employer Engagement (Units)',
                        data: [80, 100],
                        backgroundColor: [colors.medium, colors.accent],
                        borderColor: colors.medium,
                        borderWidth: 1
                    }]
                },
                options: {
                    ...sharedChartOptions,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Engagement Units',
                                font: { size: 10 }
                            },
                            ticks: { font: { size: 8 } }
                        },
                        x: {
                            ticks: { font: { size: 8 } }
                        }
                    },
                    plugins: {
                        ...sharedChartOptions.plugins,
                        legend: { display: false },
                        title: {
                            display: true,
                            text: 'Employer Engagement Rate Increase',
                            font: { size: 10, weight: 'bold' },
                            color: colors.dark,
                            padding: { top: 5, bottom: 5 }
                        }
                    }
                }
            });

            // Chart for Quantifying Constituent Impact: Monetary Outcomes
            const monetaryOutcomesCtx = document.getElementById('monetaryOutcomesChart').getContext('2d');
            new Chart(monetaryOutcomesCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Social Security Admin.', 'IRS', 'Veterans Affairs (VA)', 'Federal Aviation Admin.'].map(wrapLabel),
                    datasets: [{
                        label: 'Monetary Impact ($K)',
                        data: [564.949, 127.318, 5.1, 0.75],
                        backgroundColor: [colors.accent, colors.medium, colors.dark, '#A0522D'],
                        borderColor: colors.lightBg,
                        borderWidth: 2
                    }]
                },
                options: {
                    ...sharedChartOptions,
                    cutout: '70%',
                    plugins: {
                        ...sharedChartOptions.plugins,
                        legend: { position: 'bottom', labels: { font: { size: 10 } } },
                        title: {
                            display: true,
                            text: 'Total Monetary Impact: $701.2K (Past Year)',
                            font: { size: 10, weight: 'bold' },
                            color: colors.dark,
                            padding: { top: 5, bottom: 5 }
                        },
                        tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback,
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += '$' + context.parsed.toFixed(3) + 'K';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            // Chart for Process Optimization Models
            const processOptimizationCtx = document.getElementById('processOptimizationChart').getContext('2d');
            new Chart(processOptimizationCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Process Efficiency Score',
                        data: [65, 70, 75, 80, 85, 90],
                        fill: true,
                        borderColor: colors.medium,
                        backgroundColor: 'rgba(28, 49, 68, 0.2)',
                        tension: 0.3,
                        pointRadius: 4,
                        pointBackgroundColor: colors.medium
                    }]
                },
                options: {
                    ...sharedChartOptions,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Efficiency Score (%)',
                                font: { size: 10 }
                            },
                            ticks: { font: { size: 8 } }
                        },
                        x: {
                            ticks: { font: { size: 8 } }
                        }
                    },
                    plugins: {
                        ...sharedChartOptions.plugins,
                        legend: { display: false },
                        title: {
                            display: true,
                            text: 'Process Efficiency Improvement (Mock Data)',
                            font: { size: 10, weight: 'bold' },
                            color: colors.dark,
                            padding: { top: 5, bottom: 5 }
                        }
                    }
                }
            });

            // Chart for Performance Tracking & Analytics Integration
            const performanceTrackingCtx = document.getElementById('performanceTrackingChart').getContext('2d');
            new Chart(performanceTrackingCtx, {
                type: 'bar',
                data: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [{
                        label: 'Constituent Engagement Rate',
                        data: [70, 75, 80, 85],
                        backgroundColor: colors.accent,
                    }]
                },
                options: {
                    ...sharedChartOptions,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Engagement Rate (%)',
                                font: { size: 10 }
                            },
                            ticks: { font: { size: 8 } }
                        },
                        x: {
                            ticks: { font: { size: 8 } }
                        }
                    },
                    plugins: {
                        ...sharedChartOptions.plugins,
                        legend: { display: false },
                        title: {
                            display: true,
                            text: 'Constituent Engagement Trends (Mock Data)',
                            font: { size: 10, weight: 'bold' },
                            color: colors.dark,
                            padding: { top: 5, bottom: 5 }
                        }
                    }
                }
            });

            // AI Policy Briefing Summary Logic
            const summarizeBtn = document.getElementById('summarizeBtn');
            const policyInput = document.getElementById('policyInput');
            const summaryOutput = document.getElementById('summaryOutput');
            const loadingIndicator = document.getElementById('loadingIndicator');

            if (summarizeBtn && policyInput && summaryOutput && loadingIndicator) {
                summarizeBtn.addEventListener('click', async () => {
                    const prompt = `Summarize the following policy text concisely, highlighting key points and implications:\n\n${policyInput.value}`;
                    
                    if (!policyInput.value.trim()) {
                        summaryOutput.innerHTML = '<p class="text-center text-gray-500">Please enter some text to summarize.</p>';
                        return;
                    }

                    loadingIndicator.classList.remove('hidden');
                    summaryOutput.innerHTML = ''; // Clear previous summary

                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                    const payload = { contents: chatHistory };
                    const apiKey = ""; // Leave this as-is. Canvas will provide the API key at runtime.
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        const result = await response.json();

                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            const text = result.candidates[0].content.parts[0].text;
                            summaryOutput.innerHTML = `<p>${text}</p>`;
                        } else {
                            summaryOutput.innerHTML = '<p class="text-center text-red-500">Error: Could not generate summary. Please try again.</p>';
                        }
                    } catch (error) {
                        console.error('Error calling Gemini API:', error);
                        summaryOutput.innerHTML = '<p class="text-center text-red-500">Error generating summary. Please check console for details.</p>';
                    } finally {
                        loadingIndicator.classList.add('hidden');
                    }
                });
            }
        });
    </script>
</body>
</html>
